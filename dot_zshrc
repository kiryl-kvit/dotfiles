export ZSHDIR="$HOME/.config/zsh"
export GPG_TTY=$(tty)
bindkey -s "^f" " tmux-sessionizer\n"

setopt hist_ignore_space hist_ignore_dups hist_ignore_all_dups auto_cd auto_pushd cd_silent pushd_ignore_dups

source $ZSHDIR/zshconfig.zsh
source $ZSHDIR/aliases.zsh
source $ZSHDIR/zshfunctions.zsh
source $HOME/.nvm/nvm.sh

if [ -z "$SSH_AUTH_SOCK" ]; then
  eval "$(ssh-agent -s)"
  for key in ~/.ssh/id_*; do
    [[ -f "$key" && "$key" != *.pub ]] && ssh-add "$key" 2>/dev/null
  done
fi

export PATH="$HOME/.local/bin:$PATH"
export PATH="$PATH:/home/pa2/.dotnet/tools"

command -v zoxide &>/dev/null && eval "$(zoxide init zsh)"

if command -v fzf &>/dev/null; then
  source <(fzf --zsh)
  export FZF_DEFAULT_COMMAND="fd --hidden --strip-cwd-prefix"
  export FZF_CTRL_T_COMMAND=$FZF_DEFAULT_COMMAND
  export FZF_ALT_C_COMMAND="fd --type=d --hidden --strip-cwd-prefix"
fi

eval "$(starship init zsh)"

# bun
export BUN_INSTALL="$HOME/.bun"
export PATH="$BUN_INSTALL/bin:$PATH"
# bun completions
[ -s "/home/pa2/.bun/_bun" ] && source "/home/pa2/.bun/_bun"

zsh_add_plugin "zsh-users/zsh-autosuggestions"
bindkey '^y' autosuggest-accept
ZSH_AUTOSUGGEST_STRATEGY=(history completion)

zsh_add_plugin "hlissner/zsh-autopair"

zsh_add_plugin "zsh-users/zsh-syntax-highlighting"
ZSH_HIGHLIGHT_STYLES[arg0]="none"
ZSH_HIGHLIGHT_STYLES[unknown-token]="fg=red"
