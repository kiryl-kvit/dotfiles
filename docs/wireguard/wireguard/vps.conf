# WireGuard Server Configuration - EXAMPLE TEMPLATE
#
# Before using, customize the following:
#   - PRIVATE_KEY: Generate with `wg genkey`
#   - eth0: Replace with your server's network interface
#           (check with: ip route | grep default | awk '{print $5}')
#   - 10.0.0.x: Change subnet if it conflicts with your network
#   - VPS_PUBLIC_KEY: Your client's public key (from `wg pubkey`)

[Interface]
PrivateKey = PRIVATE_KEY
Address = 10.0.0.1/24
ListenPort = 51820

# Enable IP forwarding and NAT for internet traffic
PostUp = echo 1 > /proc/sys/net/ipv4/ip_forward
PostUp = iptables -A FORWARD -i %i -j ACCEPT
PostUp = iptables -A FORWARD -o %i -j ACCEPT
PostUp = iptables -t nat -A POSTROUTING -o eth0 -j MASQUERADE

PostDown = iptables -D FORWARD -i %i -j ACCEPT
PostDown = iptables -D FORWARD -o %i -j ACCEPT
PostDown = iptables -t nat -D POSTROUTING -o eth0 -j MASQUERADE

[Peer]
PublicKey = VPS_PUBLIC_KEY
AllowedIPs = 10.0.0.2/32
